"use strict";(self["webpackChunkshp"]=self["webpackChunkshp"]||[]).push([[873],{8873:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TypeNav"),s("div",{staticClass:"cart"},[s("h4",[t._v("全部商品")]),s("div",{staticClass:"cart-main"},[t._m(0),s("div",{staticClass:"cart-body"},t._l(t.cartInfoList,(function(e){return s("ul",{key:e.id,staticClass:"cart-list"},[s("li",{staticClass:"cart-list-con1"},[s("input",{attrs:{type:"checkbox",name:"chk_list"},domProps:{checked:e.isChecked},on:{click:function(s){return t.changeCheckBox(e)}}})]),s("li",{staticClass:"cart-list-con2"},[s("img",{attrs:{src:e.imgUrl}}),s("div",{staticClass:"item-msg"},[t._v(" "+t._s(e.skuName)+" ")])]),t._m(1,!0),s("li",{staticClass:"cart-list-con4"},[s("span",{staticClass:"price"},[t._v(t._s(e.cartPrice))])]),s("li",{staticClass:"cart-list-con5"},[s("a",{staticClass:"mins",attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.changeNum("mins",e.skuId,-1)}}},[t._v("-")]),s("input",{staticClass:"itxt",attrs:{autocomplete:"off",type:"text",minnum:"1"},domProps:{value:e.skuNum},on:{change:function(s){return t.changeNum("change",e.skuId,0,e.skuNum,1*s.target.value)}}}),s("a",{staticClass:"plus",attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.changeNum("plus",e.skuId,1)}}},[t._v("+")])]),s("li",{staticClass:"cart-list-con6"},[s("span",{staticClass:"sum"},[t._v(t._s(e.skuPrice*e.skuNum))])]),s("li",{staticClass:"cart-list-con7"},[s("a",{staticClass:"sindelet",on:{click:function(s){return t.deleteCartItem(e.skuId)}}},[t._v("删除")]),s("br"),s("a",[t._v("移到收藏")])])])})),0)]),s("div",{staticClass:"cart-tool"},[s("div",{staticClass:"select-all"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isAllChecked,expression:"isAllChecked"}],staticClass:"chooseAll",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAllChecked)?t._i(t.isAllChecked,null)>-1:t.isAllChecked},on:{change:function(e){var s=t.isAllChecked,a=e.target,c=!!a.checked;if(Array.isArray(s)){var r=null,i=t._i(s,r);a.checked?i<0&&(t.isAllChecked=s.concat([r])):i>-1&&(t.isAllChecked=s.slice(0,i).concat(s.slice(i+1)))}else t.isAllChecked=c}}}),s("span",[t._v("全选")])]),s("div",{staticClass:"option"},[s("a",{attrs:{href:"javascript:;"},on:{click:t.deleteCheckedCartItem}},[t._v("删除选中的商品")]),s("a",{attrs:{href:"#none"}},[t._v("移到我的关注")]),s("a",{attrs:{href:"#none"}},[t._v("清除下柜商品")])]),s("div",{staticClass:"money-box"},[t._m(2),s("div",{staticClass:"sumprice"},[s("em",[t._v("总价（不含运费） ：")]),s("i",{staticClass:"summoney"},[t._v(t._s(t.totalSumPrice))])]),s("div",{staticClass:"sumbtn"},[s("a",{staticClass:"sum-btn",attrs:{href:"javascript:;"},on:{click:t.goTrade}},[t._v("结算")])])])])])],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-th"},[s("div",{staticClass:"cart-th1"},[t._v("全部")]),s("div",{staticClass:"cart-th2"},[t._v("商品")]),s("div",{staticClass:"cart-th3"},[t._v("单价（元）")]),s("div",{staticClass:"cart-th4"},[t._v("数量")]),s("div",{staticClass:"cart-th5"},[t._v("小计（元）")]),s("div",{staticClass:"cart-th6"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"cart-list-con3"},[s("div",{staticClass:"item-txt"},[t._v("???")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chosed"},[t._v("已选择 "),s("span",[t._v("0")]),t._v("件商品")])}],r=s(67906),i=s(16198),n=s(4367),l=(s(41539),s(54747),s(74916),s(15306),s(34665)),u={name:"BaseCart",created:function(){this.getData()},computed:(0,n.Z)((0,n.Z)({},(0,l.rn)("cartOptions",["cartInfoList"])),{},{totalSumPrice:function(){var t=0;return this.cartInfoList.forEach((function(e){t+=e.skuPrice*e.skuNum})),t},isAllChecked:{get:function(){var t=this.cartInfoList.every((function(t){return 1==t.isChecked}));return 0!=this.cartInfoList.length&&t},set:function(t){var e=this;return(0,i.Z)((0,r.Z)().mark((function s(){return(0,r.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch("cartOptions/CheckAllCart",t);case 3:e.getData(),s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),console.log(s.t0.message);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()}}}),methods:{getData:function(){this.$store.dispatch("cartOptions/GetCartList")},changeCheckBox:function(t){console.log(t);var e={};e=0==t.isChecked?{skuID:t.skuId,isChecked:"1"}:{skuID:t.skuId,isChecked:"0"},this.$store.dispatch("cartOptions/CheckCart",e),this.getData()},changeNum:function(t,e,s,a,c){var n=this;return(0,i.Z)((0,r.Z)().mark((function i(){var l;return(0,r.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:l=0,r.t0=t,r.next="plus"===r.t0?4:"mins"===r.t0?6:8;break;case 4:return l+=s,r.abrupt("break",12);case 6:return l+=s,r.abrupt("break",12);case 8:if(!("number"!=typeof c||c<=0)){r.next=10;break}return r.abrupt("return",alert("请输入一个数字"));case 10:return l=c-a,r.abrupt("break",12);case 12:return r.next=14,n.$store.dispatch("cartOptions/AddCartList",{skuNum:l,skuId:e});case 14:n.getData();case 15:case"end":return r.stop()}}),i)})))()},deleteCartItem:function(t){var e=this;return(0,i.Z)((0,r.Z)().mark((function s(){return(0,r.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch("cartOptions/DeleteCart",t);case 2:e.getData();case 3:case"end":return s.stop()}}),s)})))()},deleteCheckedCartItem:function(){var t=this;return(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("cartOptions/DeleteAllCheckedCart");case 3:t.getData(),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},goTrade:function(){this.$router.replace({name:"Trade"})}}},o=u,h=s(1001),d=(0,h.Z)(o,a,c,!1,null,"d76472ca",null),v=d.exports}}]);
//# sourceMappingURL=873-legacy.deb228e3.js.map